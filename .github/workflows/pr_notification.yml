name: Notify IFTTT on PR to Original Repo

on:
  pull_request:
    types: [opened, reopened]
    branches:
      - main  # PR을 보낼 브랜치를 지정합니다 (필요에 따라 변경 가능)

jobs:
  notify-ifttt:
    if: ${{ github.event.pull_request.base.repo.full_name == 'ICE-graduation-project/front-end' }}
    runs-on: ubuntu-latest

    steps:
    - name: Send notification to IFTTT
      run: |
        curl -X POST https://maker.ifttt.com/trigger/github_pr/with/key/cikJxT4rr-GhQ2gp56ZfCH \
        -H "Content-Type: application/json" \
        -d '{"value1": "${{ github.repository }}", "value2": "${{ github.event.pull_request.html_url }}", "value3": "${{ github.event.pull_request.title }}"}'
